<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9
        http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">

    <!-- Homepage -->
    <url>
        <loc>{{ domain }}{% url 'core:home' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>daily</changefreq>
        <priority>1.0</priority>
    </url>

    <!-- About Page -->
    <url>
        <loc>{{ domain }}{% url 'core:about' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.8</priority>
    </url>

    <!-- Contact Page -->
    <url>
        <loc>{{ domain }}{% url 'core:contact' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.7</priority>
    </url>

    <!-- Help Page -->
    <url>
        <loc>{{ domain }}{% url 'core:help' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.6</priority>
    </url>

    <!-- Subjects List -->
    <url>
        <loc>{{ domain }}{% url 'subjects:list' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>weekly</changefreq>
        <priority>0.9</priority>
    </url>

    <!-- Simple Learn -->
    <url>
        <loc>{{ domain }}{% url 'subjects:simple_learn' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>weekly</changefreq>
        <priority>0.9</priority>
    </url>

    <!-- Quiz List -->
    <url>
        <loc>{{ domain }}{% url 'subjects:quiz_list' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>weekly</changefreq>
        <priority>0.9</priority>
    </url>

    <!-- User Registration -->
    <url>
        <loc>{{ domain }}{% url 'users:register' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.8</priority>
    </url>

    <!-- User Login -->
    <url>
        <loc>{{ domain }}{% url 'users:login' %}</loc>
        <lastmod>{{ current_date|date:"Y-m-d" }}</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.7</priority>
    </url>

    <!-- Dynamic Subject Pages -->
    {% for subject in subjects %}
    <url>
        <loc>{{ domain }}{% url 'subjects:detail' subject.slug %}</loc>
        <lastmod>{{ subject.updated_at|date:"Y-m-d" }}</lastmod>
        <changefreq>weekly</changefreq>
        <priority>0.8</priority>
    </url>
    {% endfor %}

    <!-- Dynamic Grade/Subject Pages -->
    {% for level in class_levels %}
    <url>
        <loc>{{ domain }}{% url 'subjects:grade_subject' level.level_number level.subject.slug %}</loc>
        <lastmod>{{ level.updated_at|date:"Y-m-d" }}</lastmod>
        <changefreq>weekly</changefreq>
        <priority>0.7</priority>
    </url>
    {% endfor %}

    <!-- Dynamic Topic Pages -->
    {% for topic in topics %}
    <url>
        <loc>{{ domain }}{% url 'subjects:topic_detail' topic.class_level.level_number topic.class_level.subject.slug topic.slug %}</loc>
        <lastmod>{{ topic.updated_at|date:"Y-m-d" }}</lastmod>
        <changefreq>weekly</changefreq>
        <priority>0.6</priority>
    </url>
    {% endfor %}

</urlset>
